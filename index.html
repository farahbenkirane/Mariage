<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farah & Tarek ‚Äî 11 Avril 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Cinzel:wght@400;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --ivoire: #fefdfb;
            --gold: #b38b4d;
            --gold-gradient: linear-gradient(45deg, #b38b4d 25%, #e2c275 50%, #b38b4d 75%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f2efea;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* Bloqu√© au d√©part pour l'enveloppe, r√©activ√© par JS apr√®s ouverture */
            overflow: hidden; 
        }

        /* --- FILTRE MARTEL√â --- */
        .hammered { filter: url(#hammered-effect); }

        /* --- ENVELOPPE --- */
        #envelope-wrapper {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #f2efea;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1.5s ease, visibility 1.5s;
        }

        .envelope {
            position: relative;
            width: 90%;
            max-width: 500px;
            aspect-ratio: 3 / 2;
            background-color: #ffffff;
            box-shadow: 0 40px 80px rgba(0,0,0,0.15);
            cursor: pointer;
        }

        .pocket {
            position: absolute;
            bottom: 0; left: 0; width: 100%; height: 100%;
            background-color: #fcfaf7;
            clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 45%);
            z-index: 3;
        }

        .flap {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff;
            clip-path: polygon(0 0, 50% 50%, 100% 0);
            z-index: 4;
            transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: top;
            filter: drop-shadow(0 10px 8px rgba(0,0,0,0.1));
        }

        .envelope.open .flap { transform: rotateX(180deg); z-index: 1; }

        .seal-container {
            position: absolute;
            top: 45%; left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: 0.7s;
        }

        .seal {
            width: 90px; height: 90px;
            background: radial-gradient(circle at 30% 30%, #e2c275, #b38b4d, #8a6d3b);
            border-radius: 46% 54% 50% 50% / 53% 47% 53% 47%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 4px 12px 20px rgba(0,0,0,0.3), inset -2px -2px 5px rgba(0,0,0,0.5);
            font-family: 'Pinyon Script', cursive;
            color: white; font-size: 1.8rem;
        }

        .envelope.open .seal-container { opacity: 0; visibility: hidden; }

        .open-text {
            margin-top: 25px;
            color: var(--gold);
            letter-spacing: 4px;
            font-family: 'Cinzel';
            font-size: 0.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }

        /* --- CARTE D'INVITATION --- */
        #main-content {
            display: none;
            width: 95%;
            max-width: 600px;
            background: var(--ivoire);
            padding: 50px 15px;
            margin: 40px 0; /* Ajout√© pour donner de l'espace au d√©filement */
            text-align: center;
            position: relative;
            box-shadow: 0 40px 100px rgba(0,0,0,0.05);
            border: 1px solid rgba(179, 139, 77, 0.2);
        }

        .inner-frame { border: 1px solid var(--gold); padding: 35px 10px; }
        .script-names { font-family: 'Pinyon Script', cursive; font-size: clamp(35px, 9vw, 75px); background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 15px 0; }

        .photo-container { width: 260px; height: 260px; max-width: 70vw; max-height: 70vw; margin: 25px auto; border-radius: 50%; border: 2px solid var(--gold); padding: 5px; background: white; overflow: hidden; }
        .couple-photo { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        .event-time { font-family: 'Cinzel'; font-weight: 700; color: var(--gold); font-size: 1.1rem; display: block; margin-top: 20px; }
        .maps-link { display: inline-block; color: #1a1a1a; text-decoration: none; font-family: 'Cinzel'; font-size: 0.85rem; border-bottom: 1px solid var(--gold); margin-bottom: 10px; }

        .cal-btn { display: inline-block; margin: 25px 0; padding: 12px 20px; border: 1px solid var(--gold); color: var(--gold); text-decoration: none; font-size: 0.75rem; font-family: 'Cinzel'; letter-spacing: 2px; text-transform: uppercase; }

        button { width: 100%; padding: 18px; background: var(--gold); color: white; border: none; text-transform: uppercase; font-weight: 700; cursor: pointer; letter-spacing: 3px; margin-top: 20px; }

        /* --- BOULES SCINTILLANTES --- */
        .gold-dust { position: fixed; border-radius: 50%; pointer-events: none; z-index: 10000; animation: drift linear infinite; }
        @keyframes drift { to { transform: translateY(110vh); opacity: 0; } }
    </style>
</head>
<body>

<svg style="display: none;">
    <filter id="hammered-effect">
        <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise" />
        <feDiffuseLighting in="noise" lighting-color="#ffffff" surfaceScale="2.5">
            <feDistantLight azimuth="45" elevation="55" />
        </feDiffuseLighting>
    </filter>
</svg>

<audio id="bgMusic" loop>
    <source src="musique.m4a" type="audio/x-m4a">
</audio>

<div id="envelope-wrapper">
    <div class="envelope hammered" id="envelope" onclick="openInvite()">
        <div class="flap hammered"></div>
        <div class="pocket hammered"></div>
        <div class="seal-container">
            <div class="seal">F & T</div>
            <p class="open-text">Ouvrir l'invitation</p>
        </div>
    </div>
</div>

<main id="main-content" class="hammered">
    <div class="inner-frame">
        <p style="font-style: italic; font-size: 0.9rem;">L'union de deux √¢mes</p>
        <p style="font-family: 'Cinzel'; font-size: 0.75rem; letter-spacing: 3px; text-transform: uppercase;">Jusqu'√† notre dernier souffle</p>
        
        <h1 class="script-names">Farah <span style="font-size: 0.7em;">‚ù§</span> Tarek</h1>
        
        <div class="photo-container">
            <img src="notre-photo.jpg" alt="Farah & Tarek" class="couple-photo">
        </div>
        
        <p style="font-family: 'Cinzel'; font-weight: 700; font-size: 1.1rem;">Samedi 11 Avril 2026</p>
        
        <span class="event-time">09:45</span>
        <a href="https://maps.google.com/?q=Mairie+d+Asnieres+sur+Seine" target="_blank" class="maps-link">Mairie d'Asni√®res üìç</a>

        <span class="event-time">13:45</span>
        <a href="https://share.google/ATM6Xe4TJUj33lnAm" target="_blank" class="maps-link">L'Arganier Paris üçΩÔ∏è</a>
        
        <div id="timer" style="margin: 25px 0; font-family: 'Cinzel'; letter-spacing: 3px; font-size: 1.3rem; color: var(--gold); font-weight: 700;"></div>

        <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Mariage+Farah+et+Tarek&dates=20260411T074500Z/20260411T160000Z" target="_blank" class="cal-btn">Ajouter √† l'agenda</a>

        <p style="font-family: 'Montserrat'; font-style: italic; font-size: 0.8rem; margin: 30px 10px 10px; color: var(--gold); line-height: 1.6;">Nous vous remercions du fond du c≈ìur de partager ce moment avec nous.</p>

        <form action="https://formspree.io/f/xaqdvqyk" method="POST" style="max-width: 300px; margin: 20px auto 0;">
            <select name="R√©ponse" id="attendance" style="width: 100%; padding: 15px; border: none; border-bottom: 1px solid #ccc; background: transparent; margin-bottom: 15px; font-family: 'Montserrat';">
                <option value="">Confirmation</option>
                <option value="Oui">Pr√©sent(e)</option>
                <option value="Non">Absent(e)</option>
            </select>
            <div id="guest-details" style="display:none;">
                <select id="count" name="Nombre" style="width: 100%; padding: 15px; border: none; border-bottom: 1px solid #ccc; background: transparent; margin-bottom: 15px; font-family: 'Montserrat';">
                    <option value="1">Moi uniquement</option>
                    <option value="2">Accompagn√©(e)</option>
                    <option value="3">3 personnes</option>
                    <option value="4">4 personnes</option>
                    <option value="5">5 personnes</option>
                </select>
                <div id="names-list"></div>
            </div>
            <button type="submit">Confirmer ma pr√©sence</button>
        </form>
    </div>
</main>

<script>
    window.onload = () => {
        let p = prompt("Code secret :");
        if (p !== "FarahTarek2026") { document.body.innerHTML = ""; window.location.reload(); }
    };

    function openInvite() {
        const music = document.getElementById('bgMusic');
        document.getElementById('envelope').classList.add('open');
        music.play().catch(e => {});
        
        setTimeout(() => {
            document.getElementById('envelope-wrapper').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('envelope-wrapper').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                
                // --- R√âACTIVATION DU SCROLL ---
                document.body.style.overflow = 'auto'; 
                
                createDust();
            }, 1000);
        }, 1200);
    }

    const att = document.getElementById('attendance');
    const guestDetails = document.getElementById('guest-details');
    const count = document.getElementById('count');
    const list = document.getElementById('names-list');

    att.onchange = function() {
        if(this.value === 'Oui') { guestDetails.style.display = 'block'; updateInputs(); }
        else { guestDetails.style.display = 'none'; }
    };

    count.onchange = updateInputs;

    function updateInputs() {
        list.innerHTML = '';
        let val = parseInt(count.value);
        for(let i=1; i<=val; i++) {
            const inp = document.createElement('input');
            inp.type = 'text'; inp.name = `Nom Invit√© ${i}`;
            inp.placeholder = `Nom complet ${i}`;
            inp.style.width = '100%'; inp.style.padding = '15px'; inp.style.border = 'none'; inp.style.borderBottom = '1px solid #ccc'; inp.style.background = 'transparent'; inp.style.marginBottom = '15px';
            inp.required = true;
            list.appendChild(inp);
        }
    }

    function createDust() {
        const colors = ['#b38b4d', '#e2c275', '#ffffff', '#d4af37'];
        for(let i=0; i<600; i++) {
            let d = document.createElement('div');
            d.className = 'gold-dust';
            d.style.left = Math.random() * 100 + '%';
            d.style.top = '-50px';
            d.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            let size = (Math.random() * 4 + 1) + 'px';
            d.style.width = size; d.style.height = size;
            d.style.animationDuration = (Math.random() * 6 + 4) + 's';
            d.style.animationDelay = (Math.random() * 10) + 's';
            d.style.opacity = Math.random() * 0.8 + 0.2;
            document.body.appendChild(d);
        }
    }

    const date = new Date("April 11, 2026 09:45:00").getTime();
    setInterval(() => {
        const diff = date - new Date().getTime();
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        document.getElementById('timer').innerText = d + "j ‚Ä¢ " + h + "h ‚Ä¢ " + m + "m";
    }, 1000);
</script>

</body>
</html>
