<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farah & Tarek ‚Äî 11 Avril 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Cinzel:wght@400;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --ivoire: #fefdfb;
            --gold: #b38b4d;
            --gold-gradient: linear-gradient(45deg, #b38b4d 25%, #e2c275 50%, #b38b4d 75%);
            --texture: url('https://www.transparenttextures.com/patterns/natural-paper.png');
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: #f2efea;
            font-family: 'Montserrat', sans-serif;
            min-height: 100vh;
            display: block; /* Important pour le scroll */
        }

        /* --- ENVELOPPE (FIX√âE PAR DESSUS TOUT) --- */
        #envelope-wrapper {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #f2efea;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s;
            padding: 20px;
        }

        .envelope {
            position: relative;
            width: 100%;
            max-width: 450px;
            aspect-ratio: 3 / 2;
            background-color: #ffffff;
            background-image: var(--texture);
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            cursor: pointer;
        }

        .pocket {
            position: absolute;
            bottom: 0; left: 0; width: 100%; height: 100%;
            background-color: #fcfaf7;
            background-image: var(--texture);
            clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 45%);
            z-index: 3;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .flap {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff;
            background-image: var(--texture);
            clip-path: polygon(0 0, 50% 50%, 100% 0);
            z-index: 4;
            transition: transform 1s ease-in-out;
            transform-origin: top;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1));
        }

        .envelope.open .flap { transform: rotateX(180deg); }

        /* SCEAU ET TEXTE PARFAITEMENT CENTR√âS */
        .seal-group {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -40%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            z-index: 10;
            transition: 0.5s;
            pointer-events: none;
        }

        .seal {
            width: 80px; height: 80px;
            background: radial-gradient(circle at 30% 30%, #e2c275, #b38b4d, #8a6d3b);
            border-radius: 48% 52% 45% 55% / 55% 45% 55% 45%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 2px 5px 15px rgba(0,0,0,0.2);
            font-family: 'Pinyon Script', cursive;
            color: white; font-size: 1.6rem;
            margin-bottom: 12px;
        }

        .open-text {
            color: var(--gold);
            font-family: 'Cinzel';
            font-size: 0.75rem;
            letter-spacing: 3px;
            font-weight: bold;
            text-transform: uppercase;
            text-align: center;
            text-shadow: 0 0 10px white;
        }

        .envelope.open .seal-group { opacity: 0; visibility: hidden; }

        /* --- CONTENU (CACH√â AU D√âBUT) --- */
        #main-content {
            display: none;
            width: 95%;
            max-width: 600px;
            margin: 40px auto;
            background: var(--ivoire);
            background-image: var(--texture);
            padding: 40px 15px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.05);
            border: 1px solid rgba(179, 139, 77, 0.2);
        }

        .inner-frame { border: 1px solid var(--gold); padding: 30px 10px; }
        .script-names { font-family: 'Pinyon Script', cursive; font-size: clamp(35px, 8vw, 70px); background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 15px 0; }

        .photo-container { 
            width: 240px; height: 240px; margin: 20px auto; 
            border-radius: 50%; border: 2px solid var(--gold); 
            padding: 5px; background: white; overflow: hidden; 
        }
        .couple-photo { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        .event-time { font-family: 'Cinzel'; font-weight: 700; color: var(--gold); font-size: 1.1rem; display: block; margin-top: 15px; }
        .maps-link { display: inline-block; color: #1a1a1a; text-decoration: none; font-family: 'Cinzel'; font-size: 0.85rem; border-bottom: 1px solid var(--gold); margin-bottom: 10px; }

        .cal-btn { display: inline-block; margin: 20px 0; padding: 12px 18px; border: 1px solid var(--gold); color: var(--gold); text-decoration: none; font-size: 0.7rem; font-family: 'Cinzel'; letter-spacing: 2px; text-transform: uppercase; }

        #submit-btn { width: 100%; padding: 18px; background: var(--gold); color: white; border: none; text-transform: uppercase; font-weight: 700; cursor: pointer; transition: 0.3s; letter-spacing: 1px; }

        .gold-dust { position: fixed; border-radius: 50%; pointer-events: none; z-index: 10000; animation: drift linear infinite; }
        @keyframes drift { to { transform: translateY(110vh); opacity: 0; } }
    </style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="musique.m4a" type="audio/x-m4a">
</audio>

<div id="envelope-wrapper">
    <div class="envelope" id="envelope" onclick="openInvite()">
        <div class="flap"></div>
        <div class="pocket"></div>
        <div class="seal-group">
            <div class="seal">F & T</div>
            <p class="open-text">Ouvrir l'invitation</p>
        </div>
    </div>
</div>

<main id="main-content">
    <div class="inner-frame">
        <p style="font-style: italic; font-size: 0.9rem;">L'union de deux √¢mes</p>
        <p style="font-family: 'Cinzel'; font-size: 0.75rem; letter-spacing: 3px; text-transform: uppercase;">Jusqu'√† notre dernier souffle</p>
        
        <h1 class="script-names">Farah <span style="font-size: 0.7em;">‚ù§</span> Tarek</h1>
        
        <div class="photo-container">
            <img src="notre-photo.jpg" alt="Farah & Tarek" class="couple-photo">
        </div>
        
        <p style="font-family: 'Cinzel'; font-weight: 700; font-size: 1.1rem;">Samedi 11 Avril 2026</p>
        
        <span class="event-time">09:45</span>
        <a href="https://maps.google.com" target="_blank" class="maps-link">Mairie d'Asni√®res üìç</a>

        <span class="event-time">13:45</span>
        <a href="https://share.google/ATM6Xe4TJUj33lnAm" target="_blank" class="maps-link">L'Arganier Paris üçΩÔ∏è</a>
        
        <div id="timer" style="margin: 25px 0; font-family: 'Cinzel'; letter-spacing: 3px; font-size: 1.3rem; color: var(--gold); font-weight: 700;"></div>

        <a href="#" class="cal-btn">Ajouter √† l'agenda</a>

        <p style="font-family: 'Montserrat'; font-style: italic; font-size: 0.8rem; margin: 20px 0; color: var(--gold); line-height: 1.6;">Nous vous remercions du fond du c≈ìur de partager ce moment avec nous.</p>

        <form action="https://formspree.io/f/xaqdvqyk" method="POST" style="max-width: 300px; margin: 0 auto;">
            <select name="R√©ponse" id="attendance" style="width: 100%; padding: 15px; border: none; border-bottom: 1px solid #ccc; background: transparent; margin-bottom: 15px; outline: none;">
                <option value="">Confirmation</option>
                <option value="Oui">Pr√©sent(e) avec joie</option>
                <option value="Non">Absent(e) avec regret</option>
            </select>
            <div id="guest-details" style="display:none;">
                <select id="count" name="Nombre" style="width: 100%; padding: 15px; border: none; border-bottom: 1px solid #ccc; background: transparent; margin-bottom: 15px; outline: none;">
                    <option value="1">Moi uniquement</option>
                    <option value="2">Accompagn√©(e) (2 personnes)</option>
                    <option value="3">3 personnes</option>
                    <option value="4">4 personnes</option>
                    <option value="5">5 personnes</option>
                </select>
                <div id="names-list"></div>
            </div>
            <button type="submit" id="submit-btn">Confirmer ma pr√©sence</button>
        </form>
    </div>
</main>

<script>
    // CODE SECRET
    window.onload = () => {
        let p = prompt("Code secret :");
        if (p !== "FarahTarek2026") { document.body.innerHTML = ""; window.location.reload(); }
    };

    // OUVERTURE
    function openInvite() {
        const music = document.getElementById('bgMusic');
        document.getElementById('envelope').classList.add('open');
        music.play().catch(e => {});
        
        setTimeout(() => {
            const wrapper = document.getElementById('envelope-wrapper');
            wrapper.style.opacity = '0';
            setTimeout(() => {
                wrapper.style.visibility = 'hidden';
                document.getElementById('main-content').style.display = 'block';
                createDust();
            }, 800);
        }, 1000);
    }

    // LOGIQUE RSVP & BOUTON
    const att = document.getElementById('attendance');
    const guestDetails = document.getElementById('guest-details');
    const count = document.getElementById('count');
    const list = document.getElementById('names-list');
    const submitBtn = document.getElementById('submit-btn');

    function updateUI() {
        if (att.value === 'Non') {
            submitBtn.innerText = "Confirmer mon absence";
            guestDetails.style.display = 'none';
        } else if (att.value === 'Oui') {
            guestDetails.style.display = 'block';
            submitBtn.innerText = (count.value === "1") ? "Je confirme ma pr√©sence" : "Nous confirmons notre pr√©sence";
            updateInputs();
        } else {
            submitBtn.innerText = "Confirmer ma pr√©sence";
            guestDetails.style.display = 'none';
        }
    }

    function updateInputs() {
        list.innerHTML = '';
        let val = parseInt(count.value);
        for(let i=1; i<=val; i++) {
            const inp = document.createElement('input');
            inp.type = 'text'; inp.name = `Nom Invit√© ${i}`;
            inp.placeholder = val === 1 ? "Votre nom complet" : `Nom complet invit√© ${i}`;
            inp.style.width = '100%'; inp.style.padding = '15px'; inp.style.border = 'none'; inp.style.borderBottom = '1px solid #ccc'; inp.style.background = 'transparent'; inp.style.marginBottom = '15px'; inp.required = true;
            list.appendChild(inp);
        }
    }

    att.onchange = updateUI;
    count.onchange = updateUI;

    // EFFET WAW
    function createDust() {
        const colors = ['#b38b4d', '#e2c275', '#ffffff', '#d4af37'];
        for(let i=0; i<500; i++) {
            let d = document.createElement('div');
            d.className = 'gold-dust';
            d.style.left = Math.random() * 100 + '%';
            d.style.top = '-50px';
            d.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            let size = (Math.random() * 4 + 1) + 'px';
            d.style.width = size; d.style.height = size;
            d.style.animationDuration = (Math.random() * 5 + 3) + 's';
            d.style.animationDelay = (Math.random() * 10) + 's';
            d.style.opacity = Math.random();
            document.body.appendChild(d);
        }
    }

    // TIMER
    const date = new Date("April 11, 2026 09:45:00").getTime();
    setInterval(() => {
        const diff = date - new Date().getTime();
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        document.getElementById('timer').innerText = d + "j ‚Ä¢ " + h + "h ‚Ä¢ " + m + "m";
    }, 1000);
</script>

</body>
</html>
